(function(m){var n={};var p=m.Date;var q=p.now||function(){return new p().getTime()};var r=m.setTimeout;var t=m.clearTimeout;var u=m.window;var v={document:u&&u.document!==undefined,setTimeout:r!==undefined,sessionStorage:(function(){var x="qunit-test-string";try{sessionStorage.setItem(x,x);sessionStorage.removeItem(x);return true}catch(e){return false}}())};var w=(sourceFromStacktrace(0)||"").replace(/(:\d+)+\)?/,"").replace(/.+\//,"");var y=false;var z=false;var toString=Object.prototype.toString,hasOwn=Object.prototype.hasOwnProperty;function diff(a,b){var i,j,result=a.slice();for(i=0;i<result.length;i++){for(j=0;j<b.length;j++){if(result[i]===b[j]){result.splice(i,1);i--;break}}}return result}function inArray(a,b){if(b.indexOf){return b.indexOf(a)}for(var i=0,length=b.length;i<length;i++){if(b[i]===a){return i}}return-1}function objectValues(a){var b,val,vals=n.is("array",a)?[]:{};for(b in a){if(hasOwn.call(a,b)){val=a[b];vals[b]=val===Object(val)?objectValues(val):val}}return vals}function extend(a,b,c){for(var d in b){if(hasOwn.call(b,d)){if(d!=="constructor"||a!==m){if(b[d]===undefined){delete a[d]}else if(!(c&&typeof a[d]!=="undefined")){a[d]=b[d]}}}}return a}function objectType(a){if(typeof a==="undefined"){return"undefined"}if(a===null){return"null"}var b=toString.call(a).match(/^\[object\s(.*)\]$/),type=b&&b[1];switch(type){case"Number":if(isNaN(a)){return"nan"}return"number";case"String":case"Boolean":case"Array":case"Set":case"Map":case"Date":case"RegExp":case"Function":case"Symbol":return type.toLowerCase()}if(typeof a==="object"){return"object"}}function is(a,b){return n.objectType(b)===a}function extractStacktrace(e,a){a=a===undefined?4:a;var b,include,i;if(e.stack){b=e.stack.split("\n");if(/^error$/i.test(b[0])){b.shift()}if(w){include=[];for(i=a;i<b.length;i++){if(b[i].indexOf(w)!==-1){break}include.push(b[i])}if(include.length){return include.join("\n")}}return b[a]}else if(e.sourceURL){if(/qunit.js$/.test(e.sourceURL)){return}return e.sourceURL+":"+e.line}}function sourceFromStacktrace(a){var b=new Error();if(!b.stack){try{throw b;}catch(err){b=err}}return extractStacktrace(b,a)}var A={queue:[],blocking:true,reorder:true,altertitle:true,collapse:true,scrolltop:true,maxDepth:5,requireExpects:false,urlConfig:[],modules:[],moduleStack:[],currentModule:{name:"",tests:[]},callbacks:{}};A.modules.push(A.currentModule);var B={};function registerLoggingCallbacks(d){var i,l,key,callbackNames=["begin","done","log","testStart","testDone","moduleStart","moduleDone"];function registerLoggingCallback(b){var c=function(a){if(objectType(a)!=="function"){throw new Error("QUnit logging methods require a callback function as their first parameters.");}A.callbacks[b].push(a)};B[b]=c;return c}for(i=0,l=callbackNames.length;i<l;i++){key=callbackNames[i];if(objectType(A.callbacks[key])==="undefined"){A.callbacks[key]=[]}d[key]=registerLoggingCallback(key)}}function runLoggingCallbacks(a,b){var i,l,callbacks;callbacks=A.callbacks[a];for(i=0,l=callbacks.length;i<l;i++){callbacks[i](b)}}function verifyLoggingCallbacks(){var a,userCallback;for(a in B){if(n[a]!==B[a]){userCallback=n[a];n[a]=B[a];n[a](userCallback);if(m.console&&m.console.warn){m.console.warn("QUnit."+a+" was replaced with a new value.\n"+"Please, check out the documentation on how to apply logging callbacks.\n"+"Reference: https://api.qunitjs.com/category/callbacks/")}}}}(function(){if(!v.document){return}var e=u.onerror;u.onerror=function(a,b,c){var d=false;if(e){d=e(a,b,c)}if(d!==true){if(n.config.current){if(n.config.current.ignoreGlobalErrors){return true}n.pushFailure(a,b+":"+c)}else{n.test("global failure",extend(function(){n.pushFailure(a,b+":"+c)},{validTest:true}))}return false}return d}}());n.isLocal=!(v.document&&u.location.protocol!=="file:");n.version="1.23.1";extend(n,{module:function(e,f,g){var h,moduleFns;var i=A.currentModule;if(arguments.length===2){if(objectType(f)==="function"){g=f;f=undefined}}if(f&&f.setup){f.beforeEach=f.setup;delete f.setup}if(f&&f.teardown){f.afterEach=f.teardown;delete f.teardown}h=createModule();moduleFns={beforeEach:setHook(h,"beforeEach"),afterEach:setHook(h,"afterEach")};if(objectType(g)==="function"){A.moduleStack.push(h);setCurrentModule(h);g.call(h.testEnvironment,moduleFns);A.moduleStack.pop();h=h.parentModule||i}setCurrentModule(h);function createModule(){var a=A.moduleStack.length?A.moduleStack.slice(-1)[0]:null;var b=a!==null?[a.name,e].join(" > "):e;var c={name:b,parentModule:a,tests:[],moduleId:generateHash(b)};var d={};if(a){extend(d,a.testEnvironment);delete d.beforeEach;delete d.afterEach}extend(d,f);c.testEnvironment=d;A.modules.push(c);return c}function setCurrentModule(a){A.currentModule=a}},asyncTest:asyncTest,test:test,skip:skip,only:only,start:function(a){var b=y;if(!A.current){y=true;if(z){throw new Error("Called start() outside of a test context while already started");}else if(b||a>1){throw new Error("Called start() outside of a test context too many times");}else if(A.autostart){throw new Error("Called start() outside of a test context when "+"QUnit.config.autostart was true");}else if(!A.pageLoaded){A.autostart=true;return}}else{A.current.semaphore-=a||1;if(isNaN(A.current.semaphore)){A.current.semaphore=0;n.pushFailure("Called start() with a non-numeric decrement.",sourceFromStacktrace(2));return}if(A.current.semaphore>0){return}if(A.current.semaphore<0){A.current.semaphore=0;n.pushFailure("Called start() while already started (test's semaphore was 0 already)",sourceFromStacktrace(2));return}}resumeProcessing()},stop:function(a){if(!A.current){throw new Error("Called stop() outside of a test context");}A.current.semaphore+=a||1;pauseProcessing()},config:A,is:is,objectType:objectType,extend:extend,load:function(){A.pageLoaded=true;extend(A,{stats:{all:0,bad:0},moduleStats:{all:0,bad:0},started:0,updateRate:1000,autostart:true,filter:""},true);A.blocking=false;if(A.autostart){resumeProcessing()}},stack:function(a){a=(a||0)+2;return sourceFromStacktrace(a)}});registerLoggingCallbacks(n);function begin(){var i,l,modulesLog=[];if(!A.started){A.started=q();verifyLoggingCallbacks();if(A.modules[0].name===""&&A.modules[0].tests.length===0){A.modules.shift()}for(i=0,l=A.modules.length;i<l;i++){modulesLog.push({name:A.modules[i].name,tests:A.modules[i].tests})}runLoggingCallbacks("begin",{totalTests:Test.count,modules:modulesLog})}A.blocking=false;process(true)}function process(a){function next(){process(a)}var b=q();A.depth=(A.depth||0)+1;while(A.queue.length&&!A.blocking){if(!v.setTimeout||A.updateRate<=0||((q()-b)<A.updateRate)){if(A.current){A.current.usedAsync=false}A.queue.shift()()}else{r(next,13);break}}A.depth--;if(a&&!A.blocking&&!A.queue.length&&A.depth===0){done()}}function pauseProcessing(){A.blocking=true;if(A.testTimeout&&v.setTimeout){t(A.timeout);A.timeout=r(function(){if(A.current){A.current.semaphore=0;n.pushFailure("Test timed out",sourceFromStacktrace(2))}else{throw new Error("Test timed out");}resumeProcessing()},A.testTimeout)}}function resumeProcessing(){z=true;if(v.setTimeout){r(function(){if(A.current&&A.current.semaphore>0){return}if(A.timeout){t(A.timeout)}begin()},13)}else{begin()}}function done(){var a,passed;A.autorun=true;if(A.previousModule){runLoggingCallbacks("moduleDone",{name:A.previousModule.name,tests:A.previousModule.tests,failed:A.moduleStats.bad,passed:A.moduleStats.all-A.moduleStats.bad,total:A.moduleStats.all,runtime:q()-A.moduleStats.started})}delete A.previousModule;a=q()-A.started;passed=A.stats.all-A.stats.bad;runLoggingCallbacks("done",{failed:A.stats.bad,passed:passed,total:A.stats.all,runtime:a})}function setHook(b,c){if(b.testEnvironment===undefined){b.testEnvironment={}}return function(a){b.testEnvironment[c]=a}}var C=false;var D=0;var E;function Test(a){var i,l;++Test.count;extend(this,a);this.assertions=[];this.semaphore=0;this.usedAsync=false;this.module=A.currentModule;this.stack=sourceFromStacktrace(3);for(i=0,l=this.module.tests;i<l.length;i++){if(this.module.tests[i].name===this.testName){this.testName+=" "}}this.testId=generateHash(this.module.name,this.testName);this.module.tests.push({name:this.testName,testId:this.testId});if(a.skip){this.callback=function(){};this.async=false;this.expected=0}else{this.assert=new Assert(this)}}Test.count=0;Test.prototype={before:function(){if(this.module!==A.previousModule||!hasOwn.call(A,"previousModule")){if(hasOwn.call(A,"previousModule")){runLoggingCallbacks("moduleDone",{name:A.previousModule.name,tests:A.previousModule.tests,failed:A.moduleStats.bad,passed:A.moduleStats.all-A.moduleStats.bad,total:A.moduleStats.all,runtime:q()-A.moduleStats.started})}A.previousModule=this.module;A.moduleStats={all:0,bad:0,started:q()};runLoggingCallbacks("moduleStart",{name:this.module.name,tests:this.module.tests})}A.current=this;if(this.module.testEnvironment){delete this.module.testEnvironment.beforeEach;delete this.module.testEnvironment.afterEach}this.testEnvironment=extend({},this.module.testEnvironment);this.started=q();runLoggingCallbacks("testStart",{name:this.testName,module:this.module.name,testId:this.testId});if(!A.pollution){saveGlobal()}},run:function(){var b;A.current=this;if(this.async){n.stop()}this.callbackStarted=q();if(A.notrycatch){runTest(this);return}try{runTest(this)}catch(e){this.pushFailure("Died on test #"+(this.assertions.length+1)+" "+this.stack+": "+(e.message||e),extractStacktrace(e,0));saveGlobal();if(A.blocking){n.start()}}function runTest(a){b=a.callback.call(a.testEnvironment,a.assert);a.resolvePromise(b)}},after:function(){checkPollution()},queueHook:function(a,b){var c,test=this;return function runHook(){A.current=test;if(A.notrycatch){callHook();return}try{callHook()}catch(error){test.pushFailure(b+" failed on "+test.testName+": "+(error.message||error),extractStacktrace(error,0))}function callHook(){c=a.call(test.testEnvironment,test.assert);test.resolvePromise(c,b)}}},hooks:function(c){var d=[];function processHooks(a,b){if(b.parentModule){processHooks(a,b.parentModule)}if(b.testEnvironment&&n.objectType(b.testEnvironment[c])==="function"){d.push(a.queueHook(b.testEnvironment[c],c))}}if(!this.skip){processHooks(this,this.module)}return d},finish:function(){A.current=this;if(A.requireExpects&&this.expected===null){this.pushFailure("Expected number of assertions to be defined, but expect() was "+"not called.",this.stack)}else if(this.expected!==null&&this.expected!==this.assertions.length){this.pushFailure("Expected "+this.expected+" assertions, but "+this.assertions.length+" were run",this.stack)}else if(this.expected===null&&!this.assertions.length){this.pushFailure("Expected at least one assertion, but none were run - call "+"expect(0) to accept zero assertions.",this.stack)}var i,bad=0;this.runtime=q()-this.started;A.stats.all+=this.assertions.length;A.moduleStats.all+=this.assertions.length;for(i=0;i<this.assertions.length;i++){if(!this.assertions[i].result){bad++;A.stats.bad++;A.moduleStats.bad++}}runLoggingCallbacks("testDone",{name:this.testName,module:this.module.name,skipped:!!this.skip,failed:bad,passed:this.assertions.length-bad,total:this.assertions.length,runtime:this.runtime,assertions:this.assertions,testId:this.testId,source:this.stack,duration:this.runtime});n.reset();A.current=undefined},queue:function(){var a,test=this;if(!this.valid()){return}function run(){synchronize([function(){test.before()},test.hooks("beforeEach"),function(){test.run()},test.hooks("afterEach").reverse(),function(){test.after()},function(){test.finish()}])}a=n.config.reorder&&v.sessionStorage&&+sessionStorage.getItem("qunit-test-"+this.module.name+"-"+this.testName);return synchronize(run,a,A.seed)},pushResult:function(a){var b,details={module:this.module.name,name:this.testName,result:a.result,message:a.message,actual:a.actual,expected:a.expected,testId:this.testId,negative:a.negative||false,runtime:q()-this.started};if(!a.result){b=sourceFromStacktrace();if(b){details.source=b}}runLoggingCallbacks("log",details);this.assertions.push({result:!!a.result,message:a.message})},pushFailure:function(a,b,c){if(!(this instanceof Test)){throw new Error("pushFailure() assertion outside test context, was "+sourceFromStacktrace(2));}var d={module:this.module.name,name:this.testName,result:false,message:a||"error",actual:c||null,testId:this.testId,runtime:q()-this.started};if(b){d.source=b}runLoggingCallbacks("log",d);this.assertions.push({result:false,message:a})},resolvePromise:function(b,c){var d,message,test=this;if(b!=null){d=b.then;if(n.objectType(d)==="function"){n.stop();d.call(b,function(){n.start()},function(a){message="Promise rejected "+(!c?"during":c.replace(/Each$/,""))+" "+test.testName+": "+(a.message||a);test.pushFailure(message,extractStacktrace(a,0));saveGlobal();n.start()})}}},valid:function(){var c=A.filter,regexFilter=/^(!?)\/([\w\W]*)\/(i?$)/.exec(c),module=A.module&&A.module.toLowerCase(),fullName=(this.module.name+": "+this.testName);function moduleChainNameMatch(a){var b=a.name?a.name.toLowerCase():null;if(b===module){return true}else if(a.parentModule){return moduleChainNameMatch(a.parentModule)}else{return false}}function moduleChainIdMatch(a){return inArray(a.moduleId,A.moduleId)>-1||a.parentModule&&moduleChainIdMatch(a.parentModule)}if(this.callback&&this.callback.validTest){return true}if(A.moduleId&&A.moduleId.length>0&&!moduleChainIdMatch(this.module)){return false}if(A.testId&&A.testId.length>0&&inArray(this.testId,A.testId)<0){return false}if(module&&!moduleChainNameMatch(this.module)){return false}if(!c){return true}return regexFilter?this.regexFilter(!!regexFilter[1],regexFilter[2],regexFilter[3],fullName):this.stringFilter(c,fullName)},regexFilter:function(a,b,c,d){var e=new RegExp(b,c);var f=e.test(d);return f!==a},stringFilter:function(a,b){a=a.toLowerCase();b=b.toLowerCase();var c=a.charAt(0)!=="!";if(!c){a=a.slice(1)}if(b.indexOf(a)!==-1){return c}return!c}};n.reset=function(){if(!v.document){return}var a=v.document&&document.getElementById&&document.getElementById("qunit-fixture");if(a){a.innerHTML=A.fixture}};n.pushFailure=function(){if(!n.config.current){throw new Error("pushFailure() assertion outside test context, in "+sourceFromStacktrace(2));}var a=n.config.current;return a.pushFailure.apply(a,arguments)};function generateHash(a,b){var c,i=0,hash=0,str=a+"\x1C"+b,len=str.length;for(;i<len;i++){hash=((hash<<5)-hash)+str.charCodeAt(i);hash|=0}c=(0x100000000+hash).toString(16);if(c.length<8){c="0000000"+c}return c.slice(-8)}function synchronize(a,b,c){var d=!b,index;if(n.objectType(a)==="array"){while(a.length){synchronize(a.shift())}return}if(b){A.queue.splice(D++,0,a)}else if(c){if(!E){E=unitSamplerGenerator(c)}index=Math.floor(E()*(A.queue.length-D+1));A.queue.splice(D+index,0,a)}else{A.queue.push(a)}if(A.autorun&&!A.blocking){process(d)}}function unitSamplerGenerator(a){var b=parseInt(generateHash(a),16)||-1;return function(){b^=b<<13;b^=b>>>17;b^=b<<5;if(b<0){b+=0x100000000}return b/0x100000000}}function saveGlobal(){A.pollution=[];if(A.noglobals){for(var a in m){if(hasOwn.call(m,a)){if(/^qunit-test-output/.test(a)){continue}A.pollution.push(a)}}}}function checkPollution(){var a,deletedGlobals,old=A.pollution;saveGlobal();a=diff(A.pollution,old);if(a.length>0){n.pushFailure("Introduced global variable(s): "+a.join(", "))}deletedGlobals=diff(old,A.pollution);if(deletedGlobals.length>0){n.pushFailure("Deleted global variable(s): "+deletedGlobals.join(", "))}}function asyncTest(a,b,c){if(arguments.length===2){c=b;b=null}n.test(a,b,c,true)}function test(a,b,c,d){if(C){return}var e;if(arguments.length===2){c=b;b=null}e=new Test({testName:a,expected:b,async:d,callback:c});e.queue()}function skip(a){if(C){return}var b=new Test({testName:a,skip:true});b.queue()}function only(a,b,c,d){var e;if(C){return}n.config.queue.length=0;C=true;if(arguments.length===2){c=b;b=null}e=new Test({testName:a,expected:b,async:d,callback:c});e.queue()}function Assert(a){this.test=a}n.assert=Assert.prototype={expect:function(a){if(arguments.length===1){this.test.expected=a}else{return this.test.expected}},async:function(a){var b=this.test,popped=false,acceptCallCount=a;if(typeof acceptCallCount==="undefined"){acceptCallCount=1}b.semaphore+=1;b.usedAsync=true;pauseProcessing();return function done(){if(popped){b.pushFailure("Too many calls to the `assert.async` callback",sourceFromStacktrace(2));return}acceptCallCount-=1;if(acceptCallCount>0){return}b.semaphore-=1;popped=true;resumeProcessing()}},push:function(a,b,c,d,e){var f=this instanceof Assert?this:n.config.current.assert;return f.pushResult({result:a,actual:b,expected:c,message:d,negative:e})},pushResult:function(a){var b=this,currentTest=(b instanceof Assert&&b.test)||n.config.current;if(!currentTest){throw new Error("assertion outside test context, in "+sourceFromStacktrace(2));}if(currentTest.usedAsync===true&&currentTest.semaphore===0){currentTest.pushFailure("Assertion after the final `assert.async` was resolved",sourceFromStacktrace(2))}if(!(b instanceof Assert)){b=currentTest.assert}return b.test.pushResult(a)},ok:function(a,b){b=b||(a?"okay":"failed, expected argument to be truthy, was: "+n.dump.parse(a));this.pushResult({result:!!a,actual:a,expected:true,message:b})},notOk:function(a,b){b=b||(!a?"okay":"failed, expected argument to be falsy, was: "+n.dump.parse(a));this.pushResult({result:!a,actual:a,expected:false,message:b})},equal:function(a,b,c){this.pushResult({result:b==a,actual:a,expected:b,message:c})},notEqual:function(a,b,c){this.pushResult({result:b!=a,actual:a,expected:b,message:c,negative:true})},propEqual:function(a,b,c){a=objectValues(a);b=objectValues(b);this.pushResult({result:n.equiv(a,b),actual:a,expected:b,message:c})},notPropEqual:function(a,b,c){a=objectValues(a);b=objectValues(b);this.pushResult({result:!n.equiv(a,b),actual:a,expected:b,message:c,negative:true})},deepEqual:function(a,b,c){this.pushResult({result:n.equiv(a,b),actual:a,expected:b,message:c})},notDeepEqual:function(a,b,c){this.pushResult({result:!n.equiv(a,b),actual:a,expected:b,message:c,negative:true})},strictEqual:function(a,b,c){this.pushResult({result:b===a,actual:a,expected:b,message:c})},notStrictEqual:function(a,b,c){this.pushResult({result:b!==a,actual:a,expected:b,message:c,negative:true})},"throws":function(a,b,c){var d,expectedType,expectedOutput=b,ok=false,currentTest=(this instanceof Assert&&this.test)||n.config.current;if(c==null&&typeof b==="string"){c=b;b=null}currentTest.ignoreGlobalErrors=true;try{a.call(currentTest.testEnvironment)}catch(e){d=e}currentTest.ignoreGlobalErrors=false;if(d){expectedType=n.objectType(b);if(!b){ok=true;expectedOutput=null}else if(expectedType==="regexp"){ok=b.test(errorString(d))}else if(expectedType==="string"){ok=b===errorString(d)}else if(expectedType==="function"&&d instanceof b){ok=true}else if(expectedType==="object"){ok=d instanceof b.constructor&&d.name===b.name&&d.message===b.message}else if(expectedType==="function"&&b.call({},d)===true){expectedOutput=null;ok=true}}currentTest.assert.pushResult({result:ok,actual:d,expected:expectedOutput,message:c})}};(function(){Assert.prototype.raises=Assert.prototype["throws"]}());function errorString(a){var b,message,resultErrorString=a.toString();if(resultErrorString.substring(0,7)==="[object"){b=a.name?a.name.toString():"Error";message=a.message?a.message.toString():"";if(b&&message){return b+": "+message}else if(b){return b}else if(message){return message}else{return"Error"}}else{return resultErrorString}}n.equiv=(function(){var f=[];var g=[];var h=[];var k=Object.getPrototypeOf||function(a){return a.__proto__};function useStrictEquality(b,a){if(typeof a==="object"){a=a.valueOf()}if(typeof b==="object"){b=b.valueOf()}return a===b}function compareConstructors(a,b){var c=k(a);var d=k(b);if(a.constructor===b.constructor){return true}if(c&&c.constructor===null){c=null}if(d&&d.constructor===null){d=null}if((c===null&&d===Object.prototype)||(d===null&&c===Object.prototype)){return true}return false}function getRegExpFlags(a){return"flags"in a?a.flags:a.toString().match(/[gimuy]*$/)[0]}var l={"string":useStrictEquality,"boolean":useStrictEquality,"number":useStrictEquality,"null":useStrictEquality,"undefined":useStrictEquality,"symbol":useStrictEquality,"date":useStrictEquality,"nan":function(){return true},"regexp":function(b,a){return a.source===b.source&&getRegExpFlags(a)===getRegExpFlags(b)},"function":function(){var a=f[f.length-1];return a!==Object&&typeof a!=="undefined"},"array":function(b,a){var i,j,len,loop,aCircular,bCircular;len=a.length;if(len!==b.length){return false}g.push(a);h.push(b);for(i=0;i<len;i++){loop=false;for(j=0;j<g.length;j++){aCircular=g[j]===a[i];bCircular=h[j]===b[i];if(aCircular||bCircular){if(a[i]===b[i]||aCircular&&bCircular){loop=true}else{g.pop();h.pop();return false}}}if(!loop&&!innerEquiv(a[i],b[i])){g.pop();h.pop();return false}}g.pop();h.pop();return true},"set":function(b,a){var d,outerEq=true;if(a.size!==b.size){return false}a.forEach(function(c){d=false;b.forEach(function(a){if(innerEquiv(a,c)){d=true}});if(!d){outerEq=false}});return outerEq},"map":function(b,a){var e,outerEq=true;if(a.size!==b.size){return false}a.forEach(function(c,d){e=false;b.forEach(function(a,b){if(innerEquiv([a,b],[c,d])){e=true}});if(!e){outerEq=false}});return outerEq},"object":function(b,a){var i,j,loop,aCircular,bCircular;var c=true;var d=[];var e=[];if(compareConstructors(a,b)===false){return false}f.push(a.constructor);g.push(a);h.push(b);for(i in a){loop=false;for(j=0;j<g.length;j++){aCircular=g[j]===a[i];bCircular=h[j]===b[i];if(aCircular||bCircular){if(a[i]===b[i]||aCircular&&bCircular){loop=true}else{c=false;break}}}d.push(i);if(!loop&&!innerEquiv(a[i],b[i])){c=false;break}}g.pop();h.pop();f.pop();for(i in b){e.push(i)}return c&&innerEquiv(d.sort(),e.sort())}};function typeEquiv(a,b){var c=n.objectType(a);return n.objectType(b)===c&&l[c](b,a)}function innerEquiv(a,b){if(arguments.length<2){return true}return(a===b||typeEquiv(a,b))&&(arguments.length===2||innerEquiv.apply(this,[].slice.call(arguments,1)))}return innerEquiv}());n.dump=(function(){function quote(a){return"\""+a.toString().replace(/\\/g,"\\\\").replace(/"/g,"\\\"")+"\""}function literal(o){return o+""}function join(a,b,c){var s=dump.separator(),base=dump.indent(),inner=dump.indent(1);if(b.join){b=b.join(","+s+inner)}if(!b){return a+c}return[a,inner+b,base+c].join(s)}function array(a,b){var i=a.length,ret=new Array(i);if(dump.maxDepth&&dump.depth>dump.maxDepth){return"[object Array]"}this.up();while(i--){ret[i]=this.parse(a[i],undefined,b)}this.down();return join("[",ret,"]")}var e=/^function (\w+)/,dump={parse:function(a,b,c){c=c||[];var d,parser,parserType,inStack=inArray(a,c);if(inStack!==-1){return"recursion("+(inStack-c.length)+")"}b=b||this.typeOf(a);parser=this.parsers[b];parserType=typeof parser;if(parserType==="function"){c.push(a);d=parser.call(this,a,c);c.pop();return d}return(parserType==="string")?parser:this.parsers.error},typeOf:function(a){var b;if(a===null){b="null"}else if(typeof a==="undefined"){b="undefined"}else if(n.is("regexp",a)){b="regexp"}else if(n.is("date",a)){b="date"}else if(n.is("function",a)){b="function"}else if(a.setInterval!==undefined&&a.document!==undefined&&a.nodeType===undefined){b="window"}else if(a.nodeType===9){b="document"}else if(a.nodeType){b="node"}else if(toString.call(a)==="[object Array]"||(typeof a.length==="number"&&a.item!==undefined&&(a.length?a.item(0)===a[0]:(a.item(0)===null&&a[0]===undefined)))){b="array"}else if(a.constructor===Error.prototype.constructor){b="error"}else{b=typeof a}return b},separator:function(){return this.multiline?this.HTML?"<br />":"\n":this.HTML?"&#160;":" "},indent:function(a){if(!this.multiline){return""}var b=this.indentChar;if(this.HTML){b=b.replace(/\t/g,"   ").replace(/ /g,"&#160;")}return new Array(this.depth+(a||0)).join(b)},up:function(a){this.depth+=a||1},down:function(a){this.depth-=a||1},setParser:function(a,b){this.parsers[a]=b},quote:quote,literal:literal,join:join,depth:1,maxDepth:n.config.maxDepth,parsers:{window:"[Window]",document:"[Document]",error:function(a){return"Error(\""+a.message+"\")"},unknown:"[Unknown]","null":"null","undefined":"undefined","function":function(a){var b="function",name="name"in a?a.name:(e.exec(a)||[])[1];if(name){b+=" "+name}b+="(";b=[b,dump.parse(a,"functionArgs"),"){"].join("");return join(b,dump.parse(a,"functionCode"),"}")},array:array,nodelist:array,"arguments":array,object:function(a,b){var c,key,val,i,nonEnumerableProperties,ret=[];if(dump.maxDepth&&dump.depth>dump.maxDepth){return"[object Object]"}dump.up();c=[];for(key in a){c.push(key)}nonEnumerableProperties=["message","name"];for(i in nonEnumerableProperties){key=nonEnumerableProperties[i];if(key in a&&inArray(key,c)<0){c.push(key)}}c.sort();for(i=0;i<c.length;i++){key=c[i];val=a[key];ret.push(dump.parse(key,"key")+": "+dump.parse(val,undefined,b))}dump.down();return join("{",ret,"}")},node:function(a){var b,i,val,open=dump.HTML?"&lt;":"<",close=dump.HTML?"&gt;":">",tag=a.nodeName.toLowerCase(),ret=open+tag,attrs=a.attributes;if(attrs){for(i=0,b=attrs.length;i<b;i++){val=attrs[i].nodeValue;if(val&&val!=="inherit"){ret+=" "+attrs[i].nodeName+"="+dump.parse(val,"attribute")}}}ret+=close;if(a.nodeType===3||a.nodeType===4){ret+=a.nodeValue}return ret+open+"/"+tag+close},functionArgs:function(a){var b,l=a.length;if(!l){return""}b=new Array(l);while(l--){b[l]=String.fromCharCode(97+l)}return" "+b.join(", ")+" "},key:quote,functionCode:"[code]",attribute:quote,string:quote,date:quote,regexp:literal,number:literal,"boolean":literal},HTML:false,indentChar:"  ",multiline:true};return dump}());n.jsDump=n.dump;(function(){var i,assertions=Assert.prototype;function applyCurrent(b){return function(){var a=new Assert(n.config.current);b.apply(a,arguments)}}for(i in assertions){n[i]=applyCurrent(assertions[i])}}());if(v.document){(function(){var i,l,keys=["test","module","expect","asyncTest","start","stop","ok","notOk","equal","notEqual","propEqual","notPropEqual","deepEqual","notDeepEqual","strictEqual","notStrictEqual","throws","raises"];for(i=0,l=keys.length;i<l;i++){u[keys[i]]=n[keys[i]]}}());u.QUnit=n}if(typeof module!=="undefined"&&module&&module.exports){module.exports=n;module.exports.QUnit=n}if(typeof exports!=="undefined"&&exports){exports.QUnit=n}if(typeof define==="function"&&define.amd){define(function(){return n});n.config.autostart=false}}((function(){return this}())));(function(){var h=typeof window!=="undefined"&&window.location;if(!h){return}var k=getUrlParams();QUnit.urlParams=k;QUnit.config.moduleId=[].concat(k.moduleId||[]);QUnit.config.testId=[].concat(k.testId||[]);QUnit.config.module=k.module;QUnit.config.filter=k.filter;if(k.seed===true){QUnit.config.seed=Math.random().toString(36).slice(2)}else if(k.seed){QUnit.config.seed=k.seed}QUnit.config.urlConfig.push({id:"hidepassed",label:"Hide passed tests",tooltip:"Only show tests and assertions that fail. Stored as query-strings."},{id:"noglobals",label:"Check for Globals",tooltip:"Enabling this will test if any test introduces new properties on the "+"global object (`window` in Browsers). Stored as query-strings."},{id:"notrycatch",label:"No try-catch",tooltip:"Enabling this will run tests outside of a try-catch block. Makes debugging "+"exceptions in IE reasonable. Stored as query-strings."});QUnit.begin(function(){var i,option,urlConfig=QUnit.config.urlConfig;for(i=0;i<urlConfig.length;i++){option=QUnit.config.urlConfig[i];if(typeof option!=="string"){option=option.id}if(QUnit.config[option]===undefined){QUnit.config[option]=k[option]}}});function getUrlParams(){var i,param,name,value;var a={};var b=h.search.slice(1).split("&");var c=b.length;for(i=0;i<c;i++){if(b[i]){param=b[i].split("=");name=decodeURIComponent(param[0]);value=param.length===1||decodeURIComponent(param.slice(1).join("="));if(a[name]){a[name]=[].concat(a[name],value)}else{a[name]=value}}}return a}if(typeof window==="undefined"||!window.document){return}QUnit.init=function(){var a=QUnit.config;a.stats={all:0,bad:0};a.moduleStats={all:0,bad:0};a.started=0;a.updateRate=1000;a.blocking=false;a.autostart=true;a.autorun=false;a.filter="";a.queue=[];appendInterface()};var m=QUnit.config,document=window.document,collapseNext=false,hasOwn=Object.prototype.hasOwnProperty,unfilteredUrl=setUrl({filter:undefined,module:undefined,moduleId:undefined,testId:undefined}),defined={sessionStorage:(function(){var x="qunit-test-string";try{sessionStorage.setItem(x,x);sessionStorage.removeItem(x);return true}catch(e){return false}}())},modulesList=[];function escapeText(s){if(!s){return""}s=s+"";return s.replace(/['"<>&]/g,function(s){switch(s){case"'":return"&#039;";case"\"":return"&quot;";case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;"}})}function addEvent(b,c,d){if(b.addEventListener){b.addEventListener(c,d,false)}else if(b.attachEvent){b.attachEvent("on"+c,function(){var a=window.event;if(!a.target){a.target=a.srcElement||document}d.call(b,a)})}}function addEvents(a,b,c){var i=a.length;while(i--){addEvent(a[i],b,c)}}function hasClass(a,b){return(" "+a.className+" ").indexOf(" "+b+" ")>=0}function addClass(a,b){if(!hasClass(a,b)){a.className+=(a.className?" ":"")+b}}function toggleClass(a,b,c){if(c||typeof c==="undefined"&&!hasClass(a,b)){addClass(a,b)}else{removeClass(a,b)}}function removeClass(a,b){var c=" "+a.className+" ";while(c.indexOf(" "+b+" ")>=0){c=c.replace(" "+b+" "," ")}a.className=typeof c.trim==="function"?c.trim():c.replace(/^\s+|\s+$/g,"")}function id(a){return document.getElementById&&document.getElementById(a)}function getUrlConfigHtml(){var i,j,val,escaped,escapedTooltip,selection=false,urlConfig=m.urlConfig,urlConfigHtml="";for(i=0;i<urlConfig.length;i++){val=m.urlConfig[i];if(typeof val==="string"){val={id:val,label:val}}escaped=escapeText(val.id);escapedTooltip=escapeText(val.tooltip);if(!val.value||typeof val.value==="string"){urlConfigHtml+="<input id='qunit-urlconfig-"+escaped+"' name='"+escaped+"' type='checkbox'"+(val.value?" value='"+escapeText(val.value)+"'":"")+(m[val.id]?" checked='checked'":"")+" title='"+escapedTooltip+"' /><label for='qunit-urlconfig-"+escaped+"' title='"+escapedTooltip+"'>"+val.label+"</label>"}else{urlConfigHtml+="<label for='qunit-urlconfig-"+escaped+"' title='"+escapedTooltip+"'>"+val.label+": </label><select id='qunit-urlconfig-"+escaped+"' name='"+escaped+"' title='"+escapedTooltip+"'><option></option>";if(QUnit.is("array",val.value)){for(j=0;j<val.value.length;j++){escaped=escapeText(val.value[j]);urlConfigHtml+="<option value='"+escaped+"'"+(m[val.id]===val.value[j]?(selection=true)&&" selected='selected'":"")+">"+escaped+"</option>"}}else{for(j in val.value){if(hasOwn.call(val.value,j)){urlConfigHtml+="<option value='"+escapeText(j)+"'"+(m[val.id]===j?(selection=true)&&" selected='selected'":"")+">"+escapeText(val.value[j])+"</option>"}}}if(m[val.id]&&!selection){escaped=escapeText(m[val.id]);urlConfigHtml+="<option value='"+escaped+"' selected='selected' disabled='disabled'>"+escaped+"</option>"}urlConfigHtml+="</select>"}}return urlConfigHtml}function toolbarChanged(){var a,value,tests,field=this,params={};if("selectedIndex"in field){value=field.options[field.selectedIndex].value||undefined}else{value=field.checked?(field.defaultValue||true):undefined}params[field.name]=value;a=setUrl(params);if("hidepassed"===field.name&&"replaceState"in window.history){QUnit.urlParams[field.name]=value;m[field.name]=value||false;tests=id("qunit-tests");if(tests){toggleClass(tests,"hidepass",value||false)}window.history.replaceState(null,"",a)}else{window.location=a}}function setUrl(a){var b,arrValue,i,querystring="?",h=window.location;a=QUnit.extend(QUnit.extend({},QUnit.urlParams),a);for(b in a){if(hasOwn.call(a,b)&&a[b]!==undefined){arrValue=[].concat(a[b]);for(i=0;i<arrValue.length;i++){querystring+=encodeURIComponent(b);if(arrValue[i]!==true){querystring+="="+encodeURIComponent(arrValue[i])}querystring+="&"}}}return h.protocol+"//"+h.host+h.pathname+querystring.slice(0,-1)}function applyUrlParams(){var a,modulesList=id("qunit-modulefilter"),filter=id("qunit-filter-input").value;a=modulesList?decodeURIComponent(modulesList.options[modulesList.selectedIndex].value):undefined;window.location=setUrl({module:(a==="")?undefined:a,filter:(filter==="")?undefined:filter,moduleId:undefined,testId:undefined})}function toolbarUrlConfigContainer(){var a=document.createElement("span");a.innerHTML=getUrlConfigHtml();addClass(a,"qunit-url-config");addEvents(a.getElementsByTagName("input"),"click",toolbarChanged);addEvents(a.getElementsByTagName("select"),"change",toolbarChanged);return a}function toolbarLooseFilter(){var b=document.createElement("form"),label=document.createElement("label"),input=document.createElement("input"),button=document.createElement("button");addClass(b,"qunit-filter");label.innerHTML="Filter: ";input.type="text";input.value=m.filter||"";input.name="filter";input.id="qunit-filter-input";button.innerHTML="Go";label.appendChild(input);b.appendChild(label);b.appendChild(button);addEvent(b,"submit",function(a){applyUrlParams();if(a&&a.preventDefault){a.preventDefault()}return false});return b}function toolbarModuleFilterHtml(){var i,moduleFilterHtml="";if(!modulesList.length){return false}moduleFilterHtml+="<label for='qunit-modulefilter'>Module: </label>"+"<select id='qunit-modulefilter' name='modulefilter'><option value='' "+(QUnit.urlParams.module===undefined?"selected='selected'":"")+">< All Modules ></option>";for(i=0;i<modulesList.length;i++){moduleFilterHtml+="<option value='"+escapeText(encodeURIComponent(modulesList[i]))+"' "+(QUnit.urlParams.module===modulesList[i]?"selected='selected'":"")+">"+escapeText(modulesList[i])+"</option>"}moduleFilterHtml+="</select>";return moduleFilterHtml}function toolbarModuleFilter(){var a=id("qunit-testrunner-toolbar"),moduleFilter=document.createElement("span"),moduleFilterHtml=toolbarModuleFilterHtml();if(!a||!moduleFilterHtml){return false}moduleFilter.setAttribute("id","qunit-modulefilter-container");moduleFilter.innerHTML=moduleFilterHtml;addEvent(moduleFilter.lastChild,"change",applyUrlParams);a.appendChild(moduleFilter)}function appendToolbar(){var a=id("qunit-testrunner-toolbar");if(a){a.appendChild(toolbarUrlConfigContainer());a.appendChild(toolbarLooseFilter());toolbarModuleFilter()}}function appendHeader(){var a=id("qunit-header");if(a){a.innerHTML="<a href='"+escapeText(unfilteredUrl)+"'>"+a.innerHTML+"</a> "}}function appendBanner(){var a=id("qunit-banner");if(a){a.className=""}}function appendTestResults(){var a=id("qunit-tests"),result=id("qunit-testresult");if(result){result.parentNode.removeChild(result)}if(a){a.innerHTML="";result=document.createElement("p");result.id="qunit-testresult";result.className="result";a.parentNode.insertBefore(result,a);result.innerHTML="Running...<br />&#160;"}}function storeFixture(){var a=id("qunit-fixture");if(a){m.fixture=a.innerHTML}}function appendFilteredTest(){var a=QUnit.config.testId;if(!a||a.length<=0){return""}return"<div id='qunit-filteredTest'>Rerunning selected tests: "+escapeText(a.join(", "))+" <a id='qunit-clearFilter' href='"+escapeText(unfilteredUrl)+"'>Run all tests</a></div>"}function appendUserAgent(){var a=id("qunit-userAgent");if(a){a.innerHTML="";a.appendChild(document.createTextNode("QUnit "+QUnit.version+"; "+navigator.userAgent))}}function appendInterface(){var a=id("qunit");if(a){a.innerHTML="<h1 id='qunit-header'>"+escapeText(document.title)+"</h1>"+"<h2 id='qunit-banner'></h2>"+"<div id='qunit-testrunner-toolbar'></div>"+appendFilteredTest()+"<h2 id='qunit-userAgent'></h2>"+"<ol id='qunit-tests'></ol>"}appendHeader();appendBanner();appendTestResults();appendUserAgent();appendToolbar()}function appendTestsList(a){var i,l,x,z,test,moduleObj;for(i=0,l=a.length;i<l;i++){moduleObj=a[i];for(x=0,z=moduleObj.tests.length;x<z;x++){test=moduleObj.tests[x];appendTest(test.name,test.testId,moduleObj.name)}}}function appendTest(a,b,c){var d,rerunTrigger,testBlock,assertList,tests=id("qunit-tests");if(!tests){return}d=document.createElement("strong");d.innerHTML=getNameHtml(a,c);rerunTrigger=document.createElement("a");rerunTrigger.innerHTML="Rerun";rerunTrigger.href=setUrl({testId:b});testBlock=document.createElement("li");testBlock.appendChild(d);testBlock.appendChild(rerunTrigger);testBlock.id="qunit-test-output-"+b;assertList=document.createElement("ol");assertList.className="qunit-assert-list";testBlock.appendChild(assertList);tests.appendChild(testBlock)}QUnit.begin(function(c){var i,moduleObj,tests;for(i=0;i<c.modules.length;i++){moduleObj=c.modules[i];if(moduleObj.name){modulesList.push(moduleObj.name)}}modulesList.sort(function(a,b){return a.localeCompare(b)});storeFixture();appendInterface();appendTestsList(c.modules);tests=id("qunit-tests");if(tests&&m.hidepassed){addClass(tests,"hidepass")}});QUnit.done(function(a){var i,key,banner=id("qunit-banner"),tests=id("qunit-tests"),html=["Tests completed in ",a.runtime," milliseconds.<br />","<span class='passed'>",a.passed,"</span> assertions of <span class='total'>",a.total,"</span> passed, <span class='failed'>",a.failed,"</span> failed."].join("");if(banner){banner.className=a.failed?"qunit-fail":"qunit-pass"}if(tests){id("qunit-testresult").innerHTML=html}if(m.altertitle&&document.title){document.title=[(a.failed?"\u2716":"\u2714"),document.title.replace(/^[\u2714\u2716] /i,"")].join(" ")}if(m.reorder&&defined.sessionStorage&&a.failed===0){for(i=0;i<sessionStorage.length;i++){key=sessionStorage.key(i++);if(key.indexOf("qunit-test-")===0){sessionStorage.removeItem(key)}}}if(m.scrolltop&&window.scrollTo){window.scrollTo(0,0)}});function getNameHtml(a,b){var c="";if(b){c="<span class='module-name'>"+escapeText(b)+"</span>: "}c+="<span class='test-name'>"+escapeText(a)+"</span>";return c}QUnit.testStart(function(a){var b,testBlock,bad;testBlock=id("qunit-test-output-"+a.testId);if(testBlock){testBlock.className="running"}else{appendTest(a.name,a.testId,a.module)}b=id("qunit-testresult");if(b){bad=QUnit.config.reorder&&defined.sessionStorage&&+sessionStorage.getItem("qunit-test-"+a.module+"-"+a.name);b.innerHTML=(bad?"Rerunning previously failed test: <br />":"Running: <br />")+getNameHtml(a.name,a.module)}});function stripHtml(a){return a.replace(/<\/?[^>]+(>|$)/g,"").replace(/\&quot;/g,"").replace(/\s+/g,"")}QUnit.log(function(a){var b,assertLi,message,expected,actual,diff,showDiff=false,testItem=id("qunit-test-output-"+a.testId);if(!testItem){return}message=escapeText(a.message)||(a.result?"okay":"failed");message="<span class='test-message'>"+message+"</span>";message+="<span class='runtime'>@ "+a.runtime+" ms</span>";if(!a.result&&hasOwn.call(a,"expected")){if(a.negative){expected="NOT "+QUnit.dump.parse(a.expected)}else{expected=QUnit.dump.parse(a.expected)}actual=QUnit.dump.parse(a.actual);message+="<table><tr class='test-expected'><th>Expected: </th><td><pre>"+escapeText(expected)+"</pre></td></tr>";if(actual!==expected){message+="<tr class='test-actual'><th>Result: </th><td><pre>"+escapeText(actual)+"</pre></td></tr>";if(!(/^(true|false)$/.test(actual))&&!(/^(true|false)$/.test(expected))){diff=QUnit.diff(expected,actual);showDiff=stripHtml(diff).length!==stripHtml(expected).length+stripHtml(actual).length}if(showDiff){message+="<tr class='test-diff'><th>Diff: </th><td><pre>"+diff+"</pre></td></tr>"}}else if(expected.indexOf("[object Array]")!==-1||expected.indexOf("[object Object]")!==-1){message+="<tr class='test-message'><th>Message: </th><td>"+"Diff suppressed as the depth of object is more than current max depth ("+QUnit.config.maxDepth+").<p>Hint: Use <code>QUnit.dump.maxDepth</code> to "+" run with a higher max depth or <a href='"+escapeText(setUrl({maxDepth:-1}))+"'>"+"Rerun</a> without max depth.</p></td></tr>"}else{message+="<tr class='test-message'><th>Message: </th><td>"+"Diff suppressed as the expected and actual results have an equivalent"+" serialization</td></tr>"}if(a.source){message+="<tr class='test-source'><th>Source: </th><td><pre>"+escapeText(a.source)+"</pre></td></tr>"}message+="</table>"}else if(!a.result&&a.source){message+="<table>"+"<tr class='test-source'><th>Source: </th><td><pre>"+escapeText(a.source)+"</pre></td></tr>"+"</table>"}b=testItem.getElementsByTagName("ol")[0];assertLi=document.createElement("li");assertLi.className=a.result?"pass":"fail";assertLi.innerHTML=message;b.appendChild(assertLi)});QUnit.testDone(function(a){var b,time,testItem,assertList,good,bad,testCounts,skipped,sourceName,tests=id("qunit-tests");if(!tests){return}testItem=id("qunit-test-output-"+a.testId);assertList=testItem.getElementsByTagName("ol")[0];good=a.passed;bad=a.failed;if(m.reorder&&defined.sessionStorage){if(bad){sessionStorage.setItem("qunit-test-"+a.module+"-"+a.name,bad)}else{sessionStorage.removeItem("qunit-test-"+a.module+"-"+a.name)}}if(bad===0){addClass(assertList,"qunit-collapsed")}else if(bad&&m.collapse&&!collapseNext){collapseNext=true}else{addClass(assertList,"qunit-collapsed")}b=testItem.firstChild;testCounts=bad?"<b class='failed'>"+bad+"</b>, "+"<b class='passed'>"+good+"</b>, ":"";b.innerHTML+=" <b class='counts'>("+testCounts+a.assertions.length+")</b>";if(a.skipped){testItem.className="skipped";skipped=document.createElement("em");skipped.className="qunit-skipped-label";skipped.innerHTML="skipped";testItem.insertBefore(skipped,b)}else{addEvent(b,"click",function(){toggleClass(assertList,"qunit-collapsed")});testItem.className=bad?"fail":"pass";time=document.createElement("span");time.className="runtime";time.innerHTML=a.runtime+" ms";testItem.insertBefore(time,assertList)}if(a.source){sourceName=document.createElement("p");sourceName.innerHTML="<strong>Source: </strong>"+a.source;addClass(sourceName,"qunit-source");if(bad===0){addClass(sourceName,"qunit-collapsed")}addEvent(b,"click",function(){toggleClass(sourceName,"qunit-collapsed")});testItem.appendChild(sourceName)}});var q=(function(p){return!(p&&p.version&&p.version.major>0)})(window.phantom);if(q&&document.readyState==="complete"){QUnit.load()}else{addEvent(window,"load",QUnit.load)}QUnit.diff=(function(){function DiffMatchPatch(){}var g=-1,DIFF_INSERT=1,DIFF_EQUAL=0;DiffMatchPatch.prototype.DiffMain=function(a,b,c){var d,checklines,commonlength,commonprefix,commonsuffix,diffs;d=(new Date()).getTime()+1000;if(a===null||b===null){throw new Error("Null input. (DiffMain)");}if(a===b){if(a){return[[DIFF_EQUAL,a]]}return[]}if(typeof c==="undefined"){c=true}checklines=c;commonlength=this.diffCommonPrefix(a,b);commonprefix=a.substring(0,commonlength);a=a.substring(commonlength);b=b.substring(commonlength);commonlength=this.diffCommonSuffix(a,b);commonsuffix=a.substring(a.length-commonlength);a=a.substring(0,a.length-commonlength);b=b.substring(0,b.length-commonlength);diffs=this.diffCompute(a,b,checklines,d);if(commonprefix){diffs.unshift([DIFF_EQUAL,commonprefix])}if(commonsuffix){diffs.push([DIFF_EQUAL,commonsuffix])}this.diffCleanupMerge(diffs);return diffs};DiffMatchPatch.prototype.diffCleanupEfficiency=function(a){var b,equalities,equalitiesLength,lastequality,pointer,preIns,preDel,postIns,postDel;b=false;equalities=[];equalitiesLength=0;lastequality=null;pointer=0;preIns=false;preDel=false;postIns=false;postDel=false;while(pointer<a.length){if(a[pointer][0]===DIFF_EQUAL){if(a[pointer][1].length<4&&(postIns||postDel)){equalities[equalitiesLength++]=pointer;preIns=postIns;preDel=postDel;lastequality=a[pointer][1]}else{equalitiesLength=0;lastequality=null}postIns=postDel=false}else{if(a[pointer][0]===g){postDel=true}else{postIns=true}if(lastequality&&((preIns&&preDel&&postIns&&postDel)||((lastequality.length<2)&&(preIns+preDel+postIns+postDel)===3))){a.splice(equalities[equalitiesLength-1],0,[g,lastequality]);a[equalities[equalitiesLength-1]+1][0]=DIFF_INSERT;equalitiesLength--;lastequality=null;if(preIns&&preDel){postIns=postDel=true;equalitiesLength=0}else{equalitiesLength--;pointer=equalitiesLength>0?equalities[equalitiesLength-1]:-1;postIns=postDel=false}b=true}}pointer++}if(b){this.diffCleanupMerge(a)}};DiffMatchPatch.prototype.diffPrettyHtml=function(a){var b,data,x,html=[];for(x=0;x<a.length;x++){b=a[x][0];data=a[x][1];switch(b){case DIFF_INSERT:html[x]="<ins>"+escapeText(data)+"</ins>";break;case g:html[x]="<del>"+escapeText(data)+"</del>";break;case DIFF_EQUAL:html[x]="<span>"+escapeText(data)+"</span>";break}}return html.join("")};DiffMatchPatch.prototype.diffCommonPrefix=function(a,b){var c,pointermax,pointermin,pointerstart;if(!a||!b||a.charAt(0)!==b.charAt(0)){return 0}pointermin=0;pointermax=Math.min(a.length,b.length);c=pointermax;pointerstart=0;while(pointermin<c){if(a.substring(pointerstart,c)===b.substring(pointerstart,c)){pointermin=c;pointerstart=pointermin}else{pointermax=c}c=Math.floor((pointermax-pointermin)/2+pointermin)}return c};DiffMatchPatch.prototype.diffCommonSuffix=function(a,b){var c,pointermax,pointermin,pointerend;if(!a||!b||a.charAt(a.length-1)!==b.charAt(b.length-1)){return 0}pointermin=0;pointermax=Math.min(a.length,b.length);c=pointermax;pointerend=0;while(pointermin<c){if(a.substring(a.length-c,a.length-pointerend)===b.substring(b.length-c,b.length-pointerend)){pointermin=c;pointerend=pointermin}else{pointermax=c}c=Math.floor((pointermax-pointermin)/2+pointermin)}return c};DiffMatchPatch.prototype.diffCompute=function(a,b,c,d){var e,longtext,shorttext,i,hm,text1A,text2A,text1B,text2B,midCommon,diffsA,diffsB;if(!a){return[[DIFF_INSERT,b]]}if(!b){return[[g,a]]}longtext=a.length>b.length?a:b;shorttext=a.length>b.length?b:a;i=longtext.indexOf(shorttext);if(i!==-1){e=[[DIFF_INSERT,longtext.substring(0,i)],[DIFF_EQUAL,shorttext],[DIFF_INSERT,longtext.substring(i+shorttext.length)]];if(a.length>b.length){e[0][0]=e[2][0]=g}return e}if(shorttext.length===1){return[[g,a],[DIFF_INSERT,b]]}hm=this.diffHalfMatch(a,b);if(hm){text1A=hm[0];text1B=hm[1];text2A=hm[2];text2B=hm[3];midCommon=hm[4];diffsA=this.DiffMain(text1A,text2A,c,d);diffsB=this.DiffMain(text1B,text2B,c,d);return diffsA.concat([[DIFF_EQUAL,midCommon]],diffsB)}if(c&&a.length>100&&b.length>100){return this.diffLineMode(a,b,d)}return this.diffBisect(a,b,d)};DiffMatchPatch.prototype.diffHalfMatch=function(d,e){var f,shorttext,dmp,text1A,text2B,text2A,text1B,midCommon,hm1,hm2,hm;f=d.length>e.length?d:e;shorttext=d.length>e.length?e:d;if(f.length<4||shorttext.length*2<f.length){return null}dmp=this;function diffHalfMatchI(a,b,i){var c,j,bestCommon,prefixLength,suffixLength,bestLongtextA,bestLongtextB,bestShorttextA,bestShorttextB;c=a.substring(i,i+Math.floor(a.length/4));j=-1;bestCommon="";while((j=b.indexOf(c,j+1))!==-1){prefixLength=dmp.diffCommonPrefix(a.substring(i),b.substring(j));suffixLength=dmp.diffCommonSuffix(a.substring(0,i),b.substring(0,j));if(bestCommon.length<suffixLength+prefixLength){bestCommon=b.substring(j-suffixLength,j)+b.substring(j,j+prefixLength);bestLongtextA=a.substring(0,i-suffixLength);bestLongtextB=a.substring(i+prefixLength);bestShorttextA=b.substring(0,j-suffixLength);bestShorttextB=b.substring(j+prefixLength)}}if(bestCommon.length*2>=a.length){return[bestLongtextA,bestLongtextB,bestShorttextA,bestShorttextB,bestCommon]}else{return null}}hm1=diffHalfMatchI(f,shorttext,Math.ceil(f.length/4));hm2=diffHalfMatchI(f,shorttext,Math.ceil(f.length/2));if(!hm1&&!hm2){return null}else if(!hm2){hm=hm1}else if(!hm1){hm=hm2}else{hm=hm1[4].length>hm2[4].length?hm1:hm2}text1A,text1B,text2A,text2B;if(d.length>e.length){text1A=hm[0];text1B=hm[1];text2A=hm[2];text2B=hm[3]}else{text2A=hm[0];text2B=hm[1];text1A=hm[2];text1B=hm[3]}midCommon=hm[4];return[text1A,text1B,text2A,text2B,midCommon]};DiffMatchPatch.prototype.diffLineMode=function(b,c,d){var a,diffs,linearray,pointer,countInsert,countDelete,textInsert,textDelete,j;a=this.diffLinesToChars(b,c);b=a.chars1;c=a.chars2;linearray=a.lineArray;diffs=this.DiffMain(b,c,false,d);this.diffCharsToLines(diffs,linearray);this.diffCleanupSemantic(diffs);diffs.push([DIFF_EQUAL,""]);pointer=0;countDelete=0;countInsert=0;textDelete="";textInsert="";while(pointer<diffs.length){switch(diffs[pointer][0]){case DIFF_INSERT:countInsert++;textInsert+=diffs[pointer][1];break;case g:countDelete++;textDelete+=diffs[pointer][1];break;case DIFF_EQUAL:if(countDelete>=1&&countInsert>=1){diffs.splice(pointer-countDelete-countInsert,countDelete+countInsert);pointer=pointer-countDelete-countInsert;a=this.DiffMain(textDelete,textInsert,false,d);for(j=a.length-1;j>=0;j--){diffs.splice(pointer,0,a[j])}pointer=pointer+a.length}countInsert=0;countDelete=0;textDelete="";textInsert="";break}pointer++}diffs.pop();return diffs};DiffMatchPatch.prototype.diffBisect=function(a,b,c){var e,text2Length,maxD,vOffset,vLength,v1,v2,x,delta,front,k1start,k1end,k2start,k2end,k2Offset,k1Offset,x1,x2,y1,y2,d,k1,k2;e=a.length;text2Length=b.length;maxD=Math.ceil((e+text2Length)/2);vOffset=maxD;vLength=2*maxD;v1=new Array(vLength);v2=new Array(vLength);for(x=0;x<vLength;x++){v1[x]=-1;v2[x]=-1}v1[vOffset+1]=0;v2[vOffset+1]=0;delta=e-text2Length;front=(delta%2!==0);k1start=0;k1end=0;k2start=0;k2end=0;for(d=0;d<maxD;d++){if((new Date()).getTime()>c){break}for(k1=-d+k1start;k1<=d-k1end;k1+=2){k1Offset=vOffset+k1;if(k1===-d||(k1!==d&&v1[k1Offset-1]<v1[k1Offset+1])){x1=v1[k1Offset+1]}else{x1=v1[k1Offset-1]+1}y1=x1-k1;while(x1<e&&y1<text2Length&&a.charAt(x1)===b.charAt(y1)){x1++;y1++}v1[k1Offset]=x1;if(x1>e){k1end+=2}else if(y1>text2Length){k1start+=2}else if(front){k2Offset=vOffset+delta-k1;if(k2Offset>=0&&k2Offset<vLength&&v2[k2Offset]!==-1){x2=e-v2[k2Offset];if(x1>=x2){return this.diffBisectSplit(a,b,x1,y1,c)}}}}for(k2=-d+k2start;k2<=d-k2end;k2+=2){k2Offset=vOffset+k2;if(k2===-d||(k2!==d&&v2[k2Offset-1]<v2[k2Offset+1])){x2=v2[k2Offset+1]}else{x2=v2[k2Offset-1]+1}y2=x2-k2;while(x2<e&&y2<text2Length&&a.charAt(e-x2-1)===b.charAt(text2Length-y2-1)){x2++;y2++}v2[k2Offset]=x2;if(x2>e){k2end+=2}else if(y2>text2Length){k2start+=2}else if(!front){k1Offset=vOffset+delta-k2;if(k1Offset>=0&&k1Offset<vLength&&v1[k1Offset]!==-1){x1=v1[k1Offset];y1=vOffset+x1-k1Offset;x2=e-x2;if(x1>=x2){return this.diffBisectSplit(a,b,x1,y1,c)}}}}}return[[g,a],[DIFF_INSERT,b]]};DiffMatchPatch.prototype.diffBisectSplit=function(a,b,x,y,c){var d,text1b,text2a,text2b,diffs,diffsb;d=a.substring(0,x);text2a=b.substring(0,y);text1b=a.substring(x);text2b=b.substring(y);diffs=this.DiffMain(d,text2a,false,c);diffsb=this.DiffMain(text1b,text2b,false,c);return diffs.concat(diffsb)};DiffMatchPatch.prototype.diffCleanupSemantic=function(a){var b,equalities,equalitiesLength,lastequality,pointer,lengthInsertions2,lengthDeletions2,lengthInsertions1,lengthDeletions1,deletion,insertion,overlapLength1,overlapLength2;b=false;equalities=[];equalitiesLength=0;lastequality=null;pointer=0;lengthInsertions1=0;lengthDeletions1=0;lengthInsertions2=0;lengthDeletions2=0;while(pointer<a.length){if(a[pointer][0]===DIFF_EQUAL){equalities[equalitiesLength++]=pointer;lengthInsertions1=lengthInsertions2;lengthDeletions1=lengthDeletions2;lengthInsertions2=0;lengthDeletions2=0;lastequality=a[pointer][1]}else{if(a[pointer][0]===DIFF_INSERT){lengthInsertions2+=a[pointer][1].length}else{lengthDeletions2+=a[pointer][1].length}if(lastequality&&(lastequality.length<=Math.max(lengthInsertions1,lengthDeletions1))&&(lastequality.length<=Math.max(lengthInsertions2,lengthDeletions2))){a.splice(equalities[equalitiesLength-1],0,[g,lastequality]);a[equalities[equalitiesLength-1]+1][0]=DIFF_INSERT;equalitiesLength--;equalitiesLength--;pointer=equalitiesLength>0?equalities[equalitiesLength-1]:-1;lengthInsertions1=0;lengthDeletions1=0;lengthInsertions2=0;lengthDeletions2=0;lastequality=null;b=true}}pointer++}if(b){this.diffCleanupMerge(a)}pointer=1;while(pointer<a.length){if(a[pointer-1][0]===g&&a[pointer][0]===DIFF_INSERT){deletion=a[pointer-1][1];insertion=a[pointer][1];overlapLength1=this.diffCommonOverlap(deletion,insertion);overlapLength2=this.diffCommonOverlap(insertion,deletion);if(overlapLength1>=overlapLength2){if(overlapLength1>=deletion.length/2||overlapLength1>=insertion.length/2){a.splice(pointer,0,[DIFF_EQUAL,insertion.substring(0,overlapLength1)]);a[pointer-1][1]=deletion.substring(0,deletion.length-overlapLength1);a[pointer+1][1]=insertion.substring(overlapLength1);pointer++}}else{if(overlapLength2>=deletion.length/2||overlapLength2>=insertion.length/2){a.splice(pointer,0,[DIFF_EQUAL,deletion.substring(0,overlapLength2)]);a[pointer-1][0]=DIFF_INSERT;a[pointer-1][1]=insertion.substring(0,insertion.length-overlapLength2);a[pointer+1][0]=g;a[pointer+1][1]=deletion.substring(overlapLength2);pointer++}}pointer++}pointer++}};DiffMatchPatch.prototype.diffCommonOverlap=function(a,b){var c,text2Length,textLength,best,length,pattern,found;c=a.length;text2Length=b.length;if(c===0||text2Length===0){return 0}if(c>text2Length){a=a.substring(c-text2Length)}else if(c<text2Length){b=b.substring(0,c)}textLength=Math.min(c,text2Length);if(a===b){return textLength}best=0;length=1;while(true){pattern=a.substring(textLength-length);found=b.indexOf(pattern);if(found===-1){return best}length+=found;if(found===0||a.substring(textLength-length)===b.substring(0,length)){best=length;length++}}};DiffMatchPatch.prototype.diffLinesToChars=function(c,d){var e,lineHash,chars1,chars2;e=[];lineHash={};e[0]="";function diffLinesToCharsMunge(a){var b,lineStart,lineEnd,lineArrayLength,line;b="";lineStart=0;lineEnd=-1;lineArrayLength=e.length;while(lineEnd<a.length-1){lineEnd=a.indexOf("\n",lineStart);if(lineEnd===-1){lineEnd=a.length-1}line=a.substring(lineStart,lineEnd+1);lineStart=lineEnd+1;if(lineHash.hasOwnProperty?lineHash.hasOwnProperty(line):(lineHash[line]!==undefined)){b+=String.fromCharCode(lineHash[line])}else{b+=String.fromCharCode(lineArrayLength);lineHash[line]=lineArrayLength;e[lineArrayLength++]=line}}return b}chars1=diffLinesToCharsMunge(c);chars2=diffLinesToCharsMunge(d);return{chars1:chars1,chars2:chars2,lineArray:e}};DiffMatchPatch.prototype.diffCharsToLines=function(a,b){var x,chars,text,y;for(x=0;x<a.length;x++){chars=a[x][1];text=[];for(y=0;y<chars.length;y++){text[y]=b[chars.charCodeAt(y)]}a[x][1]=text.join("")}};DiffMatchPatch.prototype.diffCleanupMerge=function(a){var b,countDelete,countInsert,textInsert,textDelete,commonlength,changes,diffPointer,position;a.push([DIFF_EQUAL,""]);b=0;countDelete=0;countInsert=0;textDelete="";textInsert="";commonlength;while(b<a.length){switch(a[b][0]){case DIFF_INSERT:countInsert++;textInsert+=a[b][1];b++;break;case g:countDelete++;textDelete+=a[b][1];b++;break;case DIFF_EQUAL:if(countDelete+countInsert>1){if(countDelete!==0&&countInsert!==0){commonlength=this.diffCommonPrefix(textInsert,textDelete);if(commonlength!==0){if((b-countDelete-countInsert)>0&&a[b-countDelete-countInsert-1][0]===DIFF_EQUAL){a[b-countDelete-countInsert-1][1]+=textInsert.substring(0,commonlength)}else{a.splice(0,0,[DIFF_EQUAL,textInsert.substring(0,commonlength)]);b++}textInsert=textInsert.substring(commonlength);textDelete=textDelete.substring(commonlength)}commonlength=this.diffCommonSuffix(textInsert,textDelete);if(commonlength!==0){a[b][1]=textInsert.substring(textInsert.length-commonlength)+a[b][1];textInsert=textInsert.substring(0,textInsert.length-commonlength);textDelete=textDelete.substring(0,textDelete.length-commonlength)}}if(countDelete===0){a.splice(b-countInsert,countDelete+countInsert,[DIFF_INSERT,textInsert])}else if(countInsert===0){a.splice(b-countDelete,countDelete+countInsert,[g,textDelete])}else{a.splice(b-countDelete-countInsert,countDelete+countInsert,[g,textDelete],[DIFF_INSERT,textInsert])}b=b-countDelete-countInsert+(countDelete?1:0)+(countInsert?1:0)+1}else if(b!==0&&a[b-1][0]===DIFF_EQUAL){a[b-1][1]+=a[b][1];a.splice(b,1)}else{b++}countInsert=0;countDelete=0;textDelete="";textInsert="";break}}if(a[a.length-1][1]===""){a.pop()}changes=false;b=1;while(b<a.length-1){if(a[b-1][0]===DIFF_EQUAL&&a[b+1][0]===DIFF_EQUAL){diffPointer=a[b][1];position=diffPointer.substring(diffPointer.length-a[b-1][1].length);if(position===a[b-1][1]){a[b][1]=a[b-1][1]+a[b][1].substring(0,a[b][1].length-a[b-1][1].length);a[b+1][1]=a[b-1][1]+a[b+1][1];a.splice(b-1,1);changes=true}else if(diffPointer.substring(0,a[b+1][1].length)===a[b+1][1]){a[b-1][1]+=a[b+1][1];a[b][1]=a[b][1].substring(a[b+1][1].length)+a[b+1][1];a.splice(b+1,1);changes=true}}b++}if(changes){this.diffCleanupMerge(a)}};return function(o,n){var a,output,text;a=new DiffMatchPatch();output=a.DiffMain(o,n);a.diffCleanupEfficiency(output);text=a.diffPrettyHtml(output);return text}}())}());